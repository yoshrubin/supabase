[{"data":1,"prerenderedAt":541},["Reactive",2],{"navigation":3,"/usage/composables/usesupabaseuser":58,"/usage/composables/usesupabaseuser-surround":536},[4,8,12,46,50,54],{"title":5,"_path":6,"icon":7},"Get Started","/get-started","i-heroicons-rocket-launch",{"title":9,"_path":10,"icon":11},"Authentication","/authentication","i-heroicons-lock-closed",{"title":13,"_path":14,"children":15,"icon":45},"Usage","/usage",[16,29],{"title":17,"_path":18,"children":19},"Vue composables","/usage/composables",[20,23,26],{"title":21,"_path":22},"useSupabaseClient","/usage/composables/usesupabaseclient",{"title":24,"_path":25},"useSupabaseSession","/usage/composables/usesupabasesession",{"title":27,"_path":28},"useSupabaseUser","/usage/composables/usesupabaseuser",{"title":30,"_path":31,"children":32},"Server services","/usage/services",[33,36,39,42],{"title":34,"_path":35},"serverSupabaseClient","/usage/services/serversupabaseclient",{"title":37,"_path":38},"serverSupabaseServiceRole","/usage/services/serversupabaseservicerole",{"title":40,"_path":41},"serverSupabaseSession","/usage/services/serversupabasesession",{"title":43,"_path":44},"serverSupabaseUser","/usage/services/serversupabaseuser","heroicons:book-open",{"title":47,"_path":48,"icon":49},"Demo","/demo","i-heroicons-computer-desktop-20-solid",{"title":51,"_path":52,"icon":53},"Changelog","/changelog","i-heroicons-bookmark",{"title":55,"_path":56,"icon":57},"Roadmap","/roadmap","i-heroicons-map",{"_path":28,"_dir":59,"_draft":60,"_partial":60,"_locale":61,"title":27,"description":62,"body":63,"_type":531,"_id":532,"_source":533,"_file":534,"_extension":535},"composables",false,"","Auto import and use your Supabase user with the useSupabaseUser composable",{"type":64,"children":65,"toc":528},"root",[66,85,173,180,212,225,433,438,501,522],{"type":67,"tag":68,"props":69,"children":70},"element","p",{},[71,74,83],{"type":72,"value":73},"text","Once logged in, you can ",{"type":67,"tag":75,"props":76,"children":80},"a",{"href":77,"rel":78},"https://nuxt.com/docs/guide/directory-structure/composables",[79],"nofollow",[81],{"type":72,"value":82},"auto-import",{"type":72,"value":84}," your user everywhere inside your vue files.",{"type":67,"tag":86,"props":87,"children":91},"pre",{"className":88,"code":89,"language":90,"meta":61,"style":61},"language-vue shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","\u003Cscript setup>\nconst user = useSupabaseUser()\n\u003C/script>\n","vue",[92],{"type":67,"tag":93,"props":94,"children":95},"code",{"__ignoreMap":61},[96,125,156],{"type":67,"tag":97,"props":98,"children":101},"span",{"class":99,"line":100},"line",1,[102,108,114,120],{"type":67,"tag":97,"props":103,"children":105},{"style":104},"--shiki-light:#39ADB5;--shiki-default:#89DDFF;--shiki-dark:#89DDFF",[106],{"type":72,"value":107},"\u003C",{"type":67,"tag":97,"props":109,"children":111},{"style":110},"--shiki-light:#E53935;--shiki-default:#F07178;--shiki-dark:#F07178",[112],{"type":72,"value":113},"script",{"type":67,"tag":97,"props":115,"children":117},{"style":116},"--shiki-light:#9C3EDA;--shiki-default:#C792EA;--shiki-dark:#C792EA",[118],{"type":72,"value":119}," setup",{"type":67,"tag":97,"props":121,"children":122},{"style":104},[123],{"type":72,"value":124},">\n",{"type":67,"tag":97,"props":126,"children":128},{"class":99,"line":127},2,[129,134,140,145,151],{"type":67,"tag":97,"props":130,"children":131},{"style":116},[132],{"type":72,"value":133},"const",{"type":67,"tag":97,"props":135,"children":137},{"style":136},"--shiki-light:#90A4AE;--shiki-default:#EEFFFF;--shiki-dark:#BABED8",[138],{"type":72,"value":139}," user ",{"type":67,"tag":97,"props":141,"children":142},{"style":104},[143],{"type":72,"value":144},"=",{"type":67,"tag":97,"props":146,"children":148},{"style":147},"--shiki-light:#6182B8;--shiki-default:#82AAFF;--shiki-dark:#82AAFF",[149],{"type":72,"value":150}," useSupabaseUser",{"type":67,"tag":97,"props":152,"children":153},{"style":136},[154],{"type":72,"value":155},"()\n",{"type":67,"tag":97,"props":157,"children":159},{"class":99,"line":158},3,[160,165,169],{"type":67,"tag":97,"props":161,"children":162},{"style":104},[163],{"type":72,"value":164},"\u003C/",{"type":67,"tag":97,"props":166,"children":167},{"style":110},[168],{"type":72,"value":113},{"type":67,"tag":97,"props":170,"children":171},{"style":104},[172],{"type":72,"value":124},{"type":67,"tag":174,"props":175,"children":177},"h2",{"id":176},"auth-middleware",[178],{"type":72,"value":179},"Auth middleware",{"type":67,"tag":181,"props":182,"children":184},"callout",{"icon":183},"i-heroicons-light-bulb",[185],{"type":67,"tag":68,"props":186,"children":187},{},[188,190,196,198,203,205,210],{"type":72,"value":189},"By default, the module is implementing a redirect middleware. All pages of your application are automatically redirected to the ",{"type":67,"tag":75,"props":191,"children":193},{"href":192},"/get-started#redirectoptions",[194],{"type":72,"value":195},"login",{"type":72,"value":197}," page. However, you can allow redirection to \"public\" pages by setting the ",{"type":67,"tag":75,"props":199,"children":200},{"href":192},[201],{"type":72,"value":202},"exclude",{"type":72,"value":204}," redirect option. Alternatively, you can enable the redirect only for certain routes using the ",{"type":67,"tag":75,"props":206,"children":207},{"href":192},[208],{"type":72,"value":209},"include",{"type":72,"value":211}," redirect option.",{"type":67,"tag":68,"props":213,"children":214},{},[215,217,223],{"type":72,"value":216},"If the ",{"type":67,"tag":75,"props":218,"children":220},{"href":219},"/get-started#redirect",[221],{"type":72,"value":222},"redirect",{"type":72,"value":224}," option is disabled, you can protect your authenticated routes by creating a custom middleware in your project, here is an example:",{"type":67,"tag":86,"props":226,"children":231},{"className":227,"code":228,"filename":229,"language":230,"meta":61,"style":61},"language-ts shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","export default defineNuxtRouteMiddleware((to, _from) => {\n  const user = useSupabaseUser()\n\n  if (!user.value) {\n    return navigateTo('/login')\n  }\n})\n","middleware/auth.ts","ts",[232],{"type":67,"tag":93,"props":233,"children":234},{"__ignoreMap":61},[235,294,320,329,373,411,420],{"type":67,"tag":97,"props":236,"children":237},{"class":99,"line":100},[238,244,249,254,259,263,269,274,279,284,289],{"type":67,"tag":97,"props":239,"children":241},{"style":240},"--shiki-light:#39ADB5;--shiki-default:#89DDFF;--shiki-dark:#89DDFF;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic",[242],{"type":72,"value":243},"export",{"type":67,"tag":97,"props":245,"children":246},{"style":240},[247],{"type":72,"value":248}," default",{"type":67,"tag":97,"props":250,"children":251},{"style":147},[252],{"type":72,"value":253}," defineNuxtRouteMiddleware",{"type":67,"tag":97,"props":255,"children":256},{"style":136},[257],{"type":72,"value":258},"(",{"type":67,"tag":97,"props":260,"children":261},{"style":104},[262],{"type":72,"value":258},{"type":67,"tag":97,"props":264,"children":266},{"style":265},"--shiki-light:#90A4AE;--shiki-default:#EEFFFF;--shiki-dark:#BABED8;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic",[267],{"type":72,"value":268},"to",{"type":67,"tag":97,"props":270,"children":271},{"style":104},[272],{"type":72,"value":273},",",{"type":67,"tag":97,"props":275,"children":276},{"style":265},[277],{"type":72,"value":278}," _from",{"type":67,"tag":97,"props":280,"children":281},{"style":104},[282],{"type":72,"value":283},")",{"type":67,"tag":97,"props":285,"children":286},{"style":116},[287],{"type":72,"value":288}," =>",{"type":67,"tag":97,"props":290,"children":291},{"style":104},[292],{"type":72,"value":293}," {\n",{"type":67,"tag":97,"props":295,"children":296},{"class":99,"line":127},[297,302,307,312,316],{"type":67,"tag":97,"props":298,"children":299},{"style":116},[300],{"type":72,"value":301},"  const",{"type":67,"tag":97,"props":303,"children":304},{"style":136},[305],{"type":72,"value":306}," user",{"type":67,"tag":97,"props":308,"children":309},{"style":104},[310],{"type":72,"value":311}," =",{"type":67,"tag":97,"props":313,"children":314},{"style":147},[315],{"type":72,"value":150},{"type":67,"tag":97,"props":317,"children":318},{"style":110},[319],{"type":72,"value":155},{"type":67,"tag":97,"props":321,"children":322},{"class":99,"line":158},[323],{"type":67,"tag":97,"props":324,"children":326},{"emptyLinePlaceholder":325},true,[327],{"type":72,"value":328},"\n",{"type":67,"tag":97,"props":330,"children":332},{"class":99,"line":331},4,[333,338,343,348,353,358,363,368],{"type":67,"tag":97,"props":334,"children":335},{"style":240},[336],{"type":72,"value":337},"  if",{"type":67,"tag":97,"props":339,"children":340},{"style":110},[341],{"type":72,"value":342}," (",{"type":67,"tag":97,"props":344,"children":345},{"style":104},[346],{"type":72,"value":347},"!",{"type":67,"tag":97,"props":349,"children":350},{"style":136},[351],{"type":72,"value":352},"user",{"type":67,"tag":97,"props":354,"children":355},{"style":104},[356],{"type":72,"value":357},".",{"type":67,"tag":97,"props":359,"children":360},{"style":136},[361],{"type":72,"value":362},"value",{"type":67,"tag":97,"props":364,"children":365},{"style":110},[366],{"type":72,"value":367},") ",{"type":67,"tag":97,"props":369,"children":370},{"style":104},[371],{"type":72,"value":372},"{\n",{"type":67,"tag":97,"props":374,"children":376},{"class":99,"line":375},5,[377,382,387,391,396,402,406],{"type":67,"tag":97,"props":378,"children":379},{"style":240},[380],{"type":72,"value":381},"    return",{"type":67,"tag":97,"props":383,"children":384},{"style":147},[385],{"type":72,"value":386}," navigateTo",{"type":67,"tag":97,"props":388,"children":389},{"style":110},[390],{"type":72,"value":258},{"type":67,"tag":97,"props":392,"children":393},{"style":104},[394],{"type":72,"value":395},"'",{"type":67,"tag":97,"props":397,"children":399},{"style":398},"--shiki-light:#91B859;--shiki-default:#C3E88D;--shiki-dark:#C3E88D",[400],{"type":72,"value":401},"/login",{"type":67,"tag":97,"props":403,"children":404},{"style":104},[405],{"type":72,"value":395},{"type":67,"tag":97,"props":407,"children":408},{"style":110},[409],{"type":72,"value":410},")\n",{"type":67,"tag":97,"props":412,"children":414},{"class":99,"line":413},6,[415],{"type":67,"tag":97,"props":416,"children":417},{"style":104},[418],{"type":72,"value":419},"  }\n",{"type":67,"tag":97,"props":421,"children":423},{"class":99,"line":422},7,[424,429],{"type":67,"tag":97,"props":425,"children":426},{"style":104},[427],{"type":72,"value":428},"}",{"type":67,"tag":97,"props":430,"children":431},{"style":136},[432],{"type":72,"value":410},{"type":67,"tag":68,"props":434,"children":435},{},[436],{"type":72,"value":437},"Then you can reference your middleware in your page with:",{"type":67,"tag":86,"props":439,"children":442},{"className":227,"code":440,"filename":441,"language":230,"meta":61,"style":61},"definePageMeta({\n  middleware: 'auth'\n})\n","pages/dashboard.vue",[443],{"type":67,"tag":93,"props":444,"children":445},{"__ignoreMap":61},[446,462,490],{"type":67,"tag":97,"props":447,"children":448},{"class":99,"line":100},[449,454,458],{"type":67,"tag":97,"props":450,"children":451},{"style":147},[452],{"type":72,"value":453},"definePageMeta",{"type":67,"tag":97,"props":455,"children":456},{"style":136},[457],{"type":72,"value":258},{"type":67,"tag":97,"props":459,"children":460},{"style":104},[461],{"type":72,"value":372},{"type":67,"tag":97,"props":463,"children":464},{"class":99,"line":127},[465,470,475,480,485],{"type":67,"tag":97,"props":466,"children":467},{"style":110},[468],{"type":72,"value":469},"  middleware",{"type":67,"tag":97,"props":471,"children":472},{"style":104},[473],{"type":72,"value":474},":",{"type":67,"tag":97,"props":476,"children":477},{"style":104},[478],{"type":72,"value":479}," '",{"type":67,"tag":97,"props":481,"children":482},{"style":398},[483],{"type":72,"value":484},"auth",{"type":67,"tag":97,"props":486,"children":487},{"style":104},[488],{"type":72,"value":489},"'\n",{"type":67,"tag":97,"props":491,"children":492},{"class":99,"line":158},[493,497],{"type":67,"tag":97,"props":494,"children":495},{"style":104},[496],{"type":72,"value":428},{"type":67,"tag":97,"props":498,"children":499},{"style":136},[500],{"type":72,"value":410},{"type":67,"tag":68,"props":502,"children":503},{},[504,506,513,515,521],{"type":72,"value":505},"Learn more about ",{"type":67,"tag":75,"props":507,"children":510},{"href":508,"rel":509},"https://nuxt.com/docs/guide/directory-structure/middleware",[79],[511],{"type":72,"value":512},"Nuxt middleware",{"type":72,"value":514}," and ",{"type":67,"tag":75,"props":516,"children":519},{"href":517,"rel":518},"https://nuxt.com/docs/guide/directory-structure/pages#page-metadata",[79],[520],{"type":72,"value":453},{"type":72,"value":357},{"type":67,"tag":523,"props":524,"children":525},"style",{},[526],{"type":72,"value":527},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":61,"searchDepth":127,"depth":127,"links":529},[530],{"id":176,"depth":127,"text":179},"markdown","content:4.usage:composables:useSupabaseUser.md","content","4.usage/composables/useSupabaseUser.md","md",[537,539],{"_path":25,"title":24,"description":538},"Auto import and use your Supabase user's session with the useSupabaseSession composable",{"_path":35,"title":34,"description":540},"Make requests to the Supabase API on server side with the serverSupabaseClient service",1711704292666]