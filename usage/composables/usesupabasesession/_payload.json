[{"data":1,"prerenderedAt":555},["Reactive",2],{"navigation":3,"/usage/composables/usesupabasesession":58,"/usage/composables/usesupabasesession-surround":550},[4,8,12,46,50,54],{"title":5,"_path":6,"icon":7},"Get Started","/get-started","i-heroicons-rocket-launch",{"title":9,"_path":10,"icon":11},"Authentication","/authentication","i-heroicons-lock-closed",{"title":13,"_path":14,"children":15,"icon":45},"Usage","/usage",[16,29],{"title":17,"_path":18,"children":19},"Vue composables","/usage/composables",[20,23,26],{"title":21,"_path":22},"useSupabaseClient","/usage/composables/usesupabaseclient",{"title":24,"_path":25},"useSupabaseSession","/usage/composables/usesupabasesession",{"title":27,"_path":28},"useSupabaseUser","/usage/composables/usesupabaseuser",{"title":30,"_path":31,"children":32},"Server services","/usage/services",[33,36,39,42],{"title":34,"_path":35},"serverSupabaseClient","/usage/services/serversupabaseclient",{"title":37,"_path":38},"serverSupabaseServiceRole","/usage/services/serversupabaseservicerole",{"title":40,"_path":41},"serverSupabaseSession","/usage/services/serversupabasesession",{"title":43,"_path":44},"serverSupabaseUser","/usage/services/serversupabaseuser","heroicons:book-open",{"title":47,"_path":48,"icon":49},"Demo","/demo","i-heroicons-computer-desktop-20-solid",{"title":51,"_path":52,"icon":53},"Changelog","/changelog","i-heroicons-bookmark",{"title":55,"_path":56,"icon":57},"Roadmap","/roadmap","i-heroicons-map",{"_path":25,"_dir":59,"_draft":60,"_partial":60,"_locale":61,"title":24,"description":62,"body":63,"_type":545,"_id":546,"_source":547,"_file":548,"_extension":549},"composables",false,"","Auto import and use your Supabase user's session with the useSupabaseSession composable",{"type":64,"children":65,"toc":542},"root",[66,85,173,189,196,226,239,447,452,515,536],{"type":67,"tag":68,"props":69,"children":70},"element","p",{},[71,74,83],{"type":72,"value":73},"text","Once logged in, you can ",{"type":67,"tag":75,"props":76,"children":80},"a",{"href":77,"rel":78},"https://nuxt.com/docs/guide/directory-structure/composables",[79],"nofollow",[81],{"type":72,"value":82},"auto-import",{"type":72,"value":84}," your user's session everywhere inside your vue files.",{"type":67,"tag":86,"props":87,"children":91},"pre",{"className":88,"code":89,"language":90,"meta":61,"style":61},"language-vue shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","\u003Cscript setup>\nconst session = useSupabaseSession()\n\u003C/script>\n","vue",[92],{"type":67,"tag":93,"props":94,"children":95},"code",{"__ignoreMap":61},[96,125,156],{"type":67,"tag":97,"props":98,"children":101},"span",{"class":99,"line":100},"line",1,[102,108,114,120],{"type":67,"tag":97,"props":103,"children":105},{"style":104},"--shiki-light:#39ADB5;--shiki-default:#89DDFF;--shiki-dark:#89DDFF",[106],{"type":72,"value":107},"\u003C",{"type":67,"tag":97,"props":109,"children":111},{"style":110},"--shiki-light:#E53935;--shiki-default:#F07178;--shiki-dark:#F07178",[112],{"type":72,"value":113},"script",{"type":67,"tag":97,"props":115,"children":117},{"style":116},"--shiki-light:#9C3EDA;--shiki-default:#C792EA;--shiki-dark:#C792EA",[118],{"type":72,"value":119}," setup",{"type":67,"tag":97,"props":121,"children":122},{"style":104},[123],{"type":72,"value":124},">\n",{"type":67,"tag":97,"props":126,"children":128},{"class":99,"line":127},2,[129,134,140,145,151],{"type":67,"tag":97,"props":130,"children":131},{"style":116},[132],{"type":72,"value":133},"const",{"type":67,"tag":97,"props":135,"children":137},{"style":136},"--shiki-light:#90A4AE;--shiki-default:#EEFFFF;--shiki-dark:#BABED8",[138],{"type":72,"value":139}," session ",{"type":67,"tag":97,"props":141,"children":142},{"style":104},[143],{"type":72,"value":144},"=",{"type":67,"tag":97,"props":146,"children":148},{"style":147},"--shiki-light:#6182B8;--shiki-default:#82AAFF;--shiki-dark:#82AAFF",[149],{"type":72,"value":150}," useSupabaseSession",{"type":67,"tag":97,"props":152,"children":153},{"style":136},[154],{"type":72,"value":155},"()\n",{"type":67,"tag":97,"props":157,"children":159},{"class":99,"line":158},3,[160,165,169],{"type":67,"tag":97,"props":161,"children":162},{"style":104},[163],{"type":72,"value":164},"\u003C/",{"type":67,"tag":97,"props":166,"children":167},{"style":110},[168],{"type":72,"value":113},{"type":67,"tag":97,"props":170,"children":171},{"style":104},[172],{"type":72,"value":124},{"type":67,"tag":174,"props":175,"children":177},"callout",{"icon":176},"i-heroicons-light-bulb",[178],{"type":67,"tag":68,"props":179,"children":180},{},[181,183,187],{"type":72,"value":182},"If you just need the User's information you can use ",{"type":67,"tag":75,"props":184,"children":185},{"href":28},[186],{"type":72,"value":27},{"type":72,"value":188}," which returns just the User information of the session.",{"type":67,"tag":190,"props":191,"children":193},"h2",{"id":192},"auth-middleware",[194],{"type":72,"value":195},"Auth middleware",{"type":67,"tag":174,"props":197,"children":198},{"icon":176},[199],{"type":67,"tag":68,"props":200,"children":201},{},[202,204,210,212,217,219,224],{"type":72,"value":203},"By default, the module is implementing a redirect middleware. All pages of your application are automatically redirected to the ",{"type":67,"tag":75,"props":205,"children":207},{"href":206},"/get-started#redirectoptions",[208],{"type":72,"value":209},"login",{"type":72,"value":211}," page. However, you can allow redirection to \"public\" pages by setting the ",{"type":67,"tag":75,"props":213,"children":214},{"href":206},[215],{"type":72,"value":216},"exclude",{"type":72,"value":218}," redirect option. Alternatively, you can enable the redirect only for certain routes using the ",{"type":67,"tag":75,"props":220,"children":221},{"href":206},[222],{"type":72,"value":223},"include",{"type":72,"value":225}," redirect option.",{"type":67,"tag":68,"props":227,"children":228},{},[229,231,237],{"type":72,"value":230},"If the ",{"type":67,"tag":75,"props":232,"children":234},{"href":233},"/get-started#redirect",[235],{"type":72,"value":236},"redirect",{"type":72,"value":238}," option is disabled, you can protect your authenticated routes by creating a custom middleware in your project, here is an example:",{"type":67,"tag":86,"props":240,"children":245},{"className":241,"code":242,"filename":243,"language":244,"meta":61,"style":61},"language-ts shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","export default defineNuxtRouteMiddleware((to, _from) => {\n  const session = useSupabaseSession()\n\n  if (!session.value) {\n    return navigateTo('/login')\n  }\n})\n","middleware/auth.ts","ts",[246],{"type":67,"tag":93,"props":247,"children":248},{"__ignoreMap":61},[249,308,334,343,387,425,434],{"type":67,"tag":97,"props":250,"children":251},{"class":99,"line":100},[252,258,263,268,273,277,283,288,293,298,303],{"type":67,"tag":97,"props":253,"children":255},{"style":254},"--shiki-light:#39ADB5;--shiki-default:#89DDFF;--shiki-dark:#89DDFF;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic",[256],{"type":72,"value":257},"export",{"type":67,"tag":97,"props":259,"children":260},{"style":254},[261],{"type":72,"value":262}," default",{"type":67,"tag":97,"props":264,"children":265},{"style":147},[266],{"type":72,"value":267}," defineNuxtRouteMiddleware",{"type":67,"tag":97,"props":269,"children":270},{"style":136},[271],{"type":72,"value":272},"(",{"type":67,"tag":97,"props":274,"children":275},{"style":104},[276],{"type":72,"value":272},{"type":67,"tag":97,"props":278,"children":280},{"style":279},"--shiki-light:#90A4AE;--shiki-default:#EEFFFF;--shiki-dark:#BABED8;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic",[281],{"type":72,"value":282},"to",{"type":67,"tag":97,"props":284,"children":285},{"style":104},[286],{"type":72,"value":287},",",{"type":67,"tag":97,"props":289,"children":290},{"style":279},[291],{"type":72,"value":292}," _from",{"type":67,"tag":97,"props":294,"children":295},{"style":104},[296],{"type":72,"value":297},")",{"type":67,"tag":97,"props":299,"children":300},{"style":116},[301],{"type":72,"value":302}," =>",{"type":67,"tag":97,"props":304,"children":305},{"style":104},[306],{"type":72,"value":307}," {\n",{"type":67,"tag":97,"props":309,"children":310},{"class":99,"line":127},[311,316,321,326,330],{"type":67,"tag":97,"props":312,"children":313},{"style":116},[314],{"type":72,"value":315},"  const",{"type":67,"tag":97,"props":317,"children":318},{"style":136},[319],{"type":72,"value":320}," session",{"type":67,"tag":97,"props":322,"children":323},{"style":104},[324],{"type":72,"value":325}," =",{"type":67,"tag":97,"props":327,"children":328},{"style":147},[329],{"type":72,"value":150},{"type":67,"tag":97,"props":331,"children":332},{"style":110},[333],{"type":72,"value":155},{"type":67,"tag":97,"props":335,"children":336},{"class":99,"line":158},[337],{"type":67,"tag":97,"props":338,"children":340},{"emptyLinePlaceholder":339},true,[341],{"type":72,"value":342},"\n",{"type":67,"tag":97,"props":344,"children":346},{"class":99,"line":345},4,[347,352,357,362,367,372,377,382],{"type":67,"tag":97,"props":348,"children":349},{"style":254},[350],{"type":72,"value":351},"  if",{"type":67,"tag":97,"props":353,"children":354},{"style":110},[355],{"type":72,"value":356}," (",{"type":67,"tag":97,"props":358,"children":359},{"style":104},[360],{"type":72,"value":361},"!",{"type":67,"tag":97,"props":363,"children":364},{"style":136},[365],{"type":72,"value":366},"session",{"type":67,"tag":97,"props":368,"children":369},{"style":104},[370],{"type":72,"value":371},".",{"type":67,"tag":97,"props":373,"children":374},{"style":136},[375],{"type":72,"value":376},"value",{"type":67,"tag":97,"props":378,"children":379},{"style":110},[380],{"type":72,"value":381},") ",{"type":67,"tag":97,"props":383,"children":384},{"style":104},[385],{"type":72,"value":386},"{\n",{"type":67,"tag":97,"props":388,"children":390},{"class":99,"line":389},5,[391,396,401,405,410,416,420],{"type":67,"tag":97,"props":392,"children":393},{"style":254},[394],{"type":72,"value":395},"    return",{"type":67,"tag":97,"props":397,"children":398},{"style":147},[399],{"type":72,"value":400}," navigateTo",{"type":67,"tag":97,"props":402,"children":403},{"style":110},[404],{"type":72,"value":272},{"type":67,"tag":97,"props":406,"children":407},{"style":104},[408],{"type":72,"value":409},"'",{"type":67,"tag":97,"props":411,"children":413},{"style":412},"--shiki-light:#91B859;--shiki-default:#C3E88D;--shiki-dark:#C3E88D",[414],{"type":72,"value":415},"/login",{"type":67,"tag":97,"props":417,"children":418},{"style":104},[419],{"type":72,"value":409},{"type":67,"tag":97,"props":421,"children":422},{"style":110},[423],{"type":72,"value":424},")\n",{"type":67,"tag":97,"props":426,"children":428},{"class":99,"line":427},6,[429],{"type":67,"tag":97,"props":430,"children":431},{"style":104},[432],{"type":72,"value":433},"  }\n",{"type":67,"tag":97,"props":435,"children":437},{"class":99,"line":436},7,[438,443],{"type":67,"tag":97,"props":439,"children":440},{"style":104},[441],{"type":72,"value":442},"}",{"type":67,"tag":97,"props":444,"children":445},{"style":136},[446],{"type":72,"value":424},{"type":67,"tag":68,"props":448,"children":449},{},[450],{"type":72,"value":451},"Then you can reference your middleware in your page with:",{"type":67,"tag":86,"props":453,"children":456},{"className":241,"code":454,"filename":455,"language":244,"meta":61,"style":61},"definePageMeta({\n  middleware: 'auth'\n})\n","pages/dashboard.vue",[457],{"type":67,"tag":93,"props":458,"children":459},{"__ignoreMap":61},[460,476,504],{"type":67,"tag":97,"props":461,"children":462},{"class":99,"line":100},[463,468,472],{"type":67,"tag":97,"props":464,"children":465},{"style":147},[466],{"type":72,"value":467},"definePageMeta",{"type":67,"tag":97,"props":469,"children":470},{"style":136},[471],{"type":72,"value":272},{"type":67,"tag":97,"props":473,"children":474},{"style":104},[475],{"type":72,"value":386},{"type":67,"tag":97,"props":477,"children":478},{"class":99,"line":127},[479,484,489,494,499],{"type":67,"tag":97,"props":480,"children":481},{"style":110},[482],{"type":72,"value":483},"  middleware",{"type":67,"tag":97,"props":485,"children":486},{"style":104},[487],{"type":72,"value":488},":",{"type":67,"tag":97,"props":490,"children":491},{"style":104},[492],{"type":72,"value":493}," '",{"type":67,"tag":97,"props":495,"children":496},{"style":412},[497],{"type":72,"value":498},"auth",{"type":67,"tag":97,"props":500,"children":501},{"style":104},[502],{"type":72,"value":503},"'\n",{"type":67,"tag":97,"props":505,"children":506},{"class":99,"line":158},[507,511],{"type":67,"tag":97,"props":508,"children":509},{"style":104},[510],{"type":72,"value":442},{"type":67,"tag":97,"props":512,"children":513},{"style":136},[514],{"type":72,"value":424},{"type":67,"tag":68,"props":516,"children":517},{},[518,520,527,529,535],{"type":72,"value":519},"Learn more about ",{"type":67,"tag":75,"props":521,"children":524},{"href":522,"rel":523},"https://nuxt.com/docs/guide/directory-structure/middleware",[79],[525],{"type":72,"value":526},"Nuxt middleware",{"type":72,"value":528}," and ",{"type":67,"tag":75,"props":530,"children":533},{"href":531,"rel":532},"https://nuxt.com/docs/guide/directory-structure/pages#page-metadata",[79],[534],{"type":72,"value":467},{"type":72,"value":371},{"type":67,"tag":537,"props":538,"children":539},"style",{},[540],{"type":72,"value":541},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":61,"searchDepth":127,"depth":127,"links":543},[544],{"id":192,"depth":127,"text":195},"markdown","content:4.usage:composables:useSupabaseSession.md","content","4.usage/composables/useSupabaseSession.md","md",[551,553],{"_path":22,"title":21,"description":552},"Make requests to the Supabase API with the useSupabaseClient composable",{"_path":28,"title":27,"description":554},"Auto import and use your Supabase user with the useSupabaseUser composable",1713425474215]